{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <title>Profile</title>
    <link rel="stylesheet" href="{% static 'user_auth/profile.css' %}">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.1/css/all.css">
</head>
<body>
    <!-- Header with logo, same structure as search header -->
    <header class="header">
        <div class="container">
            <div class="logo">
                <img src="{% static 'images/logo.png' %}" alt="Logo">
            </div>

            <div class="buttons">
                <a href="{% url 'search' %}" class="btn btn2">Search</a>
                <a href="{% url 'logout' %}" class="btn btn1">Log Out</a>
            </div>
        </div>
    </header>

    <!-- Main Profile Section -->
    <main class="main-container">
        <div class="profile-cards">
            <!-- User Info Card -->
            <div class="user_card">
                <h3 id="form-title"><i class="fas fa-user-circle"></i> Profile: {{ user.username }}</h3>
                <div class="profile_container">
                    <p><strong><i class="fas fa-envelope"></i> Email:</strong> {{ user.email }}</p>
                </div>
            </div>

            <!-- Favorite Restaurants Card -->
            <div class="favorites_card">
                <h4><i class="fas fa-utensils"></i> Your Favorite Restaurants:</h4>
                {% if favorites %}
                    <ul class="list-unstyled">
                        {% for restaurant in favorites %}
                            <li class="restaurant_item">
                                <strong>{{ restaurant.name }}</strong><br>
                                Cuisine: {{ restaurant.cuisine }}<br>
                                Location: {{ restaurant.location }}<br>
            
                                <!-- Add Remove from Favorites Button -->
                                <form action="{% url 'toggle_favorite' restaurant.id %}" method="POST">
                                    {% csrf_token %}
                                    <button type="submit" class="btn btn-danger btn-sm">Remove from Favorites</button>
                                </form>
                            </li>
                        {% endfor %}
                    </ul>
                {% else %}
                    <p>No favorite restaurants yet.</p>
                {% endif %}
            </div>
        </div>
    </main>
</body>
</html>
